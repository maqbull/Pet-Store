{"version":3,"sources":["Pet.js","PetForm.js","NewPetModal.js","EditPetModal.js","api.js","index.js"],"names":["Pet","pet","onEdit","onRemove","className","photo","src","alt","kind","onClick","name","role","aria-label","PetForm","onSave","onCancel","initialPet","useState","setName","setKind","setPhoto","errors","setErrors","saving","setSaving","photoInput","useRef","action","onSubmit","event","preventDefault","catch","error","console","htmlFor","type","id","ref","onChange","file","current","files","reader","FileReader","onloadend","result","readAsDataURL","value","e","target","disabled","NewPetModal","isOpen","onRequestClose","EditPetModal","handleErrors","res","ok","json","then","createPet","fetch","method","headers","body","JSON","stringify","updatePet","App","pets","setPets","isNewPetOpen","setNewPetOpen","currentPet","setCurrentPet","isLoading","setLoading","useEffect","finally","addPet","a","newPet","savePet","updatedPet","map","removePet","byePet","window","confirm","filter","class","href","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c45347dc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Pet = ({pet , onEdit, onRemove}) => {\r\n   return (\r\n       <div className=\"pet\">\r\n        {pet.photo ? (\r\n        <img className = \"img\"\r\n         src = {pet.photo}\r\n          alt=\"Animals\" />\r\n   ): (\r\n     <div className=\"no-photo\">?</div>\r\n   )}\r\n   <div className=\"kind\">{pet.kind}</div>\r\n      <button className=\"pet-name\" onClick={onEdit}>\r\n      {pet.name}\r\n      </button>\r\n      \r\n      <button className=\"adopt-btn\" onClick={onRemove}>\r\n      <span role=\"img\" aria-label = \"adopt this pet\">\r\n     <img className=\"adopt-img\" src=\"https://www.buttonmuseum.org/sites/default/files/CA-adopt-a-pet-button-busy-beaver-button-museum.png\" alt=\"Adopt\"/>\r\n      </span>\r\n      </button>\r\n         </div>\r\n    )\r\n}\r\nexport default Pet","import React ,{useState , useRef} from 'react'\r\n\r\nconst PetForm = ({pet ,onSave, onCancel }) => {\r\n    const initialPet = pet || {\r\n        name: '',\r\n        kind: '',\r\n        photo: null\r\n    };\r\n    const [name , setName] = useState(initialPet.name)\r\n    const [kind , setKind] = useState(initialPet.kind);    \r\n    const [photo , setPhoto] = useState(initialPet.photo)\r\n    const [errors , setErrors] = useState(null)\r\n    const[saving , setSaving] = useState(false)\r\n    const photoInput = useRef()\r\n\r\n    const updatePhoto = () =>{\r\n        const file = \r\n        photoInput.current.files &&\r\n        photoInput.current.files[0] ;\r\n\r\n        if(file){\r\n            const reader = new FileReader(); // builtin API in browser\r\n            reader.onloadend = () => setPhoto(reader.result)\r\n            reader.readAsDataURL(file)\r\n          }\r\n    };\r\n\r\n    const submit = event =>{\r\n        event.preventDefault()\r\n        setSaving(true)\r\n        //save\r\n        onSave({\r\n            ...pet,\r\n            name,kind,photo\r\n        }).catch(error =>  {\r\n            console.error(error)\r\n          setErrors(error);\r\n          setSaving(false)\r\n        });\r\n       }\r\n\r\n   return(\r\n    <form action=\"\" className=\"pet-form\" onSubmit={submit}>\r\n    {photo && <img className=\"img img-form\" alt=\"the pet\" src = {photo}/>}\r\n    <label className = \"label-photo\" htmlFor=\"photo\">Photo</label>\r\n    <input type=\"file\" id=\"photo\"\r\n    ref = {photoInput}\r\n    onChange = {updatePhoto}\r\n    />  \r\n    <label htmlFor=\"name\">Name</label>\r\n    <input type=\"text\"\r\n    id =\"name\"\r\n    value = {name}\r\n    onChange= {e => setName(e.target.value)}\r\n    />\r\n    {errors && errors.name && (\r\n        <div className=\"error\">{errors.name}</div>\r\n    )}\r\n    <label htmlFor=\"kind\">Kind</label>\r\n    <select name=\"kind\" id=\"kind\"\r\n    value = {kind}\r\n    onChange = {e => setKind(e.target.value) }\r\n    >\r\n    <option value=\"\">Choose a kind</option>\r\n    <option value=\"cat\">Cat</option>\r\n    <option value=\"dog\">Dog</option>\r\n    </select>\r\n    {errors && errors.kind && (\r\n        <div className=\"error\">{errors.kind}</div>\r\n    )}\r\n    <button className=\"form-btn\" disabled={saving} type = \"button\" onClick = {onCancel}>Cancel</button>\r\n    <button className=\"form-btn\" disabled={saving} type = \"submit\">Save</button>\r\n\r\n    </form>\r\n   ) \r\n}\r\n\r\nexport default PetForm\r\n","import React  from 'react'\r\nimport Modal from 'react-modal'\r\nimport PetForm from './PetForm'\r\n\r\nconst NewPetModal = ({  onCancel , onSave})=> {\r\n  return (\r\n    <Modal\r\n    isOpen = {true}\r\n     onRequestClose = {onCancel} >\r\n       <h2>New Pet</h2>\r\n       <PetForm \r\n       onCancel = {onCancel}\r\n       onSave = {onSave}\r\n    />\r\n         </Modal>\r\n)\r\n};\r\nexport default NewPetModal;","import React  from 'react'\r\nimport Modal from 'react-modal'\r\nimport PetForm from './PetForm'\r\nconst EditPetModal = ({pet,onCancel , onSave})=> {\r\n    return (\r\n    <Modal\r\n    isOpen = {true}\r\n     onRequestClose = {onCancel} >\r\n          <h2>Edit Pet</h2>\r\n          <PetForm \r\n          pet ={pet}\r\n          onCancel = {onCancel}\r\n          onSave = {onSave}\r\n          />\r\n          </Modal>\r\n);\r\n};\r\nexport default EditPetModal;","const handleErrors = res => {\r\n    if(!res.ok){\r\n        return res.json().then(error => {\r\n            throw error;\r\n        });\r\n    }\r\n    return res;\r\n}\r\nexport const listPets = () =>{\r\n  return fetch('https://rocky-hamlet-86164.herokuapp.com/pets').then(\r\n      res => res.json())\r\n}\r\n\r\nexport const createPet = (pet) =>{\r\nreturn fetch('https://rocky-hamlet-86164.herokuapp.com/pets',{\r\n  method: 'POST', \r\n  headers: {\r\n     'Content-Type': 'application/json' \r\n  },\r\n  body : JSON.stringify(pet)\r\n})\r\n .then(handleErrors)\r\n .then(res => res.json())\r\n};\r\n\r\n\r\nexport const updatePet = (pet) =>{\r\nreturn fetch(`https://rocky-hamlet-86164.herokuapp.com/pets/${pet.id}`,{\r\n  method: 'PUT', \r\n  headers: {\r\n     'Content-Type': 'application/json' \r\n  },\r\n  body : JSON.stringify(pet)\r\n})\r\n .then(handleErrors)\r\n .then(res => res.json())\r\n}\r\n\r\n\r\nexport const deletePet = pet =>{\r\nreturn fetch(`https://rocky-hamlet-86164.herokuapp.com/pets/${pet.id}`,{\r\n  method: 'DELETE', \r\n  \r\n})\r\n .then(handleErrors)\r\n .then(res => res.json())\r\n}","import React , { useState , useEffect} from 'react';\nimport ReactDOM from 'react-dom';\nimport Pet from './Pet';\nimport NewPetModal from './NewPetModal'\nimport EditPetModal from './EditPetModal'\nimport { listPets , createPet , updatePet , deletePet } from './api';\nimport './index.css';\n\n//dialog\n// X state\n// api call\n\nconst App = () =>{\n   \n  const[pets , setPets] = useState([]);\n  const [isNewPetOpen , setNewPetOpen] = useState(false)\n  const [currentPet , setCurrentPet] = useState(null)\n  const[isLoading , setLoading] = useState(false)\n\n  useEffect(() => {\n  //  async function getData() {\n     setLoading(true);\n  //    try {\n  //   const res = await fetch(\n  //     'http://localhost:3001/pets'\n  //     );\n  //     const pets = await res.json();\n  //     setPets(pets);\n  //     setLoading(false);\n  //   } catch(e) {\n  //     setLoading(false);\n  //   }\n  // }\n  // getData();\n// it will wait till that fetch return\n  listPets()\n .then(pets => setPets(pets))\n .finally( () => setLoading(false))\n  },[])\n  \n  const addPet = async (pet) =>{\n    return createPet(pet)\n    .then(newPet => {\n      setPets([\n       ...pets ,\n       newPet \n      ])\n      setNewPetOpen(false)\n    });\n      };\n\nconst savePet = async pet => {\n    return updatePet(pet).then(updatedPet =>{\n      setPets(pets => \n      pets.map(pet =>\n       pet.id === updatedPet.id ? updatedPet : pet\n        )  \n        )\n        setCurrentPet(null)\n    })\n}\n\n const removePet = byePet =>{\n  const result = window.confirm(`Are you sure you want to adopt ${byePet.name} ?`)\n  if(result){\n    deletePet(byePet).then(()=>{\n      setPets(pets => \n       pets.filter(pet => pet.id !== byePet.id)\n        )\n    })\n  }\n }\n\n  return (\n    <main>\n    <h1>Adopt-a-Pet</h1>\n    {isLoading ? (\n      <div className=\"loading\">Loading ...</div>\n    ) : (\n      <>\n    <ul className=\"img-container\">\n    {pets.map(pet => (\n      <li key={pet.id}>\n      <Pet pet = {pet} \n      onRemove = {() => removePet(pet) }\n      onEdit={() => setCurrentPet(pet)}\n      />\n      </li>\n    ))}\n    </ul>\n    <button className=\"add-a-pet\" onClick = {() => setNewPetOpen(true)}> Add a pet </button>\n    <footer className = \"footer\">\n    <p class=\"footer-text\">Copyright @2021 | Designed With ❤❤ by <a href=\"https://www.linkedin.com/in/mohd-maqbool-82a697142/\">Mohd Maqbool</a></p>\n    </footer>\n    </>\n    )}\n  { isNewPetOpen && (<NewPetModal \n   onCancel = {() => setNewPetOpen(false)}\n   onSave = {addPet}\n    /> )}\n    { currentPet && (\n      <EditPetModal \n      pet = {currentPet}\n      onCancel = {() => setCurrentPet(null)}\n      onSave={savePet} />\n    )}\n    \n    </main>\n  )\n}\n\nReactDOM.render(\n   <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}